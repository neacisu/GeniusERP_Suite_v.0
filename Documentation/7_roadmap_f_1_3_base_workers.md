# 6 · Roadmap Base Workers (F1-03) - 70 prompts CursorAI

**New Hierarchical Numbering:** F1-03-000 → F1-03-069  
**Module Prefix:** F1-03 (Phase 1, Module 3)  
**Execution Order:** After F1-01 (Shell Gateway) and F1-02 (Admin Core)

## Format JSON extins – câmpuri obligatorii (New Hierarchical System)
- `step` – **NEW:** hierarchical ID **F1-03-XXX** (eliminates collisions)  
- `legacy_step` – original flat numbering **274‑301** (for migration reference)
- `scope` – sub‑sistem vizat
- `context` – livrări anterioare relevante
- `task` – instrucțiune imperativă clară
- `dirs` – directoare vizate
- `constraints` – reguli stricte (commit‑msg, chmod, etc.)
- `output` – rezultat așteptat

## Umbrella – Dependencies & Context F1
| Interval | Effort | Componente | Layer | Dependințe |
|----------|--------|------------|-------|------------|
| 1‑5 | 2 SW | `ocr`, `pdf.render`, `email.send`, `notify.slack` | workers | **0‑20, 33**, 225‑257 |

```json
[
  // 🏗️ CORE WORKERS FOUNDATION (F1-03-000 to F1-03-009)
  {"step":"F1-03-000","legacy_step":274,"scope":"workers-core-skel","context":"Workers module inexistent.","task":"Creează mono-repo `workers-core` în `/core/apps/workers-core/`.","dirs":["/core/apps/workers-core/"],"constraints":"poetry init.","output":"skeleton workers"},
  {"step":"F1-03-001","legacy_step":275,"scope":"workers-poetry-deps","context":"Deps Python.","task":"poetry add `paddleocr` `aiosmtplib` `pyppeteer` `slack-sdk` `structlog>=24` `opentelemetry-exporter-prometheus`.","dirs":["/core/apps/workers-core/"],"constraints":"","output":"deps actualizate"},
  {"step":"F1-03-002","legacy_step":276,"scope":"workers-celery-conf","context":"Queue map.","task":"Creează `celeryconfig.py` cu queue‑uri `ocr`, `pdf.render`, `email.send`, `notify.slack`.","dirs":["/core/apps/workers-core/"],"constraints":"","output":"celery conf"},
  {"step":"F1-03-003","legacy_step":283,"scope":"workers-env","context":"Vars.","task":"Actualizează `.env.example` worker vars (`SMTP_HOST`, `RMQ_URL`, `SLACK_WEBHOOK_URL`).","dirs":["/"],"constraints":"","output":".env.example upd"},
  {"step":"F1-03-004","legacy_step":284,"scope":"worker-ocr","context":"Worker OCR absent.","task":"`scripts/create-worker.py --tag ocr` → FastAPI health + Celery task `ocr.extract`.","dirs":["/core/apps/workers-core/ocr/"],"constraints":"GPU=false.","output":"worker ocr"},
  {"step":"F1-03-005","legacy_step":285,"scope":"worker-pdf-render","context":"`pdf.render` absent.","task":"Scaffold worker **Python** Pyppeteer pentru randare PDF (înlocuiește Node).","dirs":["/core/apps/workers-core/pdf-render/"],"constraints":"Chromium via apt.","output":"worker pdf"},
  {"step":"F1-03-006","legacy_step":286,"scope":"worker-email-send","context":"`email.send` absent.","task":"Scaffold worker Python aiosmtplib.","dirs":["/core/apps/workers-core/email-send/"],"constraints":"","output":"worker email"},
  {"step":"F1-03-007","legacy_step":287,"scope":"worker-notify-slack","context":"`notify.slack` absent.","task":"Scaffold worker **Python** slack-sdk pentru notificări (înlocuiește Node).","dirs":["/core/apps/workers-core/notify-slack/"],"constraints":"webhook + channel vars.","output":"worker slack"},
  {"step":"F1-03-008","legacy_step":288,"scope":"workers-unit-tests","context":"No tests.","task":"Pytest pentru `ocr`, `email` & `notify.slack` (mock).","dirs":["/core/apps/workers-core/"],"constraints":"","output":"pytest verde"},
  {"step":"F1-03-009","legacy_step":289,"scope":"workers-int-tests","context":"Integration.","task":"Pipeline test Celery → RMQ → worker → Redis result.","dirs":["/tests/integration/workers/"],"constraints":"","output":"tests pass"},
  {"step":"F1-03-004","legacy_step":284,"scope":"workers-dockerfiles","context":"Images.","task":"Dockerfile slim per worker, etichete SLSA.","dirs":["/docker/"],"constraints":"","output":"images build"},
  {"step":"F1-03-005","legacy_step":285,"scope":"workers-ci","context":"CI pipeline.","task":"Job matrix build/test/scan workers; push ghcr.","dirs":["/.github/workflows/ci-template.yml"],"constraints":"","output":"CI workers"},
  {"step":"F1-03-006","legacy_step":286,"scope":"workers-compliance-deps","context":"Noi integrări ANAF/REGES necesită pachete Python suplimentare.","task":"poetry add `zeep>=4` `signxml` (dependințe ANAF & Revisal).","dirs":["/core/apps/workers-core/"],"constraints":"","output":"dependințe ANAF/REGES adăugate"},
  {"step":"F1-03-007","legacy_step":287,"scope":"workers-celery-queues","context":"Queue-uri noi neconfigurate.","task":"Actualizează `celeryconfig.py` cu noile queue-uri: `anaf.taxpayer`, `anaf.efactura`, `anaf.etransport`, `anaf.saft`, `reges`. Adaugă variabile relevante în `.env.example` (ex.: token ANAF, path certificat).","dirs":["/core/apps/workers-core/celery/"],"constraints":"","output":"config Celery & ENV actualizat"},
  {"step":"F1-03-008","legacy_step":288,"scope":"worker-anaf-taxpayer","context":"Worker `anaf.taxpayer` inexistent.","task":"Scaffold worker (FastAPI + Celery task) pentru validarea CUI (ANAF) – ex. `taxpayer.validate` care interoghează API ANAF și răspunde cu date firmă.","dirs":["/core/apps/workers-core/anaf-taxpayer/"],"constraints":"fără chei în repo; ExternalSecrets pentru token ANAF","output":"worker `anaf.taxpayer` creat"},
  {"step":"F1-03-009","legacy_step":289,"scope":"worker-anaf-efactura","context":"Worker `anaf.efactura` inexistent.","task":"Scaffold worker Python pentru transmiterea facturilor electronice (e-Factura) – ex. task `efactura.submit` ce trimite XML la ANAF (cu semnătură) și confirmă status.","dirs":["/core/apps/workers-core/anaf-efactura/"],"constraints":"fără chei în repo; ExternalSecrets (credențiale OAuth/certificat)","output":"worker `anaf.efactura` creat"},
  {"step":"F1-03-010","legacy_step":290,"scope":"worker-anaf-etransport","context":"Worker `anaf.etransport` inexistent.","task":"Scaffold worker Python pentru declarațiile e-Transport – ex. task `etransport.submit` ce transmite detaliile livrării și obține codul UIT.","dirs":["/core/apps/workers-core/anaf-etransport/"],"constraints":"fără chei în repo; ExternalSecrets (certificat digital)","output":"worker `anaf.etransport` creat"},
  {"step":"F1-03-011","legacy_step":291,"scope":"worker-anaf-saft","context":"Worker SAF-T inexistent.","task":"Scaffold worker Python pentru generare & validare SAF-T (D406) – ex. task `saft.generate` ce compilează date contabile și rulează validarea DUK.","dirs":["/core/apps/workers-core/anaf-saft/"],"constraints":"include kit ANAF DUK; fără chei în repo (certificat via Vault)","output":"worker `anaf.saft` creat"},
  {"step":"F1-03-012","legacy_step":292,"scope":"worker-reges","context":"Worker Revisal inexistent.","task":"Scaffold worker Python pentru integrarea REGES (Revisal Online) – ex. task `reges.submit` care transmite XML-ul registrului prin API Inspecției Muncii.","dirs":["/core/apps/workers-core/reges/"],"constraints":"fără chei în repo; ExternalSecrets (autentificare cu certificat)","output":"worker `reges` creat"},
  {"step":"F1-03-013","legacy_step":293,"scope":"workers-helm-chart","context":"Deploy.","task":"Chart `infra/helm/workers-core/` cu Deployment per tag + Celery ConfigMap.","dirs":["/infra/helm/workers-core/"],"constraints":"cosign sign.","output":"chart OCI"},
  {"step":"F1-03-014","legacy_step":294,"scope":"workers-otel","context":"Workers observability conform stack standard.","task":"Configurează `opentelemetry-exporter-prometheus` pentru Celery metrics conform stack-ului aprobat Prometheus/OTEL.","dirs":["/core/apps/workers-core/"],"constraints":"stack compliance strict; pouze approved observability tools","output":"OTEL Prom metrics"},
  {"step":"F1-03-015","legacy_step":295,"scope":"workers-prom","context":"Metrics.","task":"Expose `/metrics` via `prometheus_fastapi_instrumentator`.","dirs":["/core/apps/workers-core/"],"constraints":"","output":"metrics worker"},
  {"step":"F1-03-016","legacy_step":296,"scope":"workers-dashboard","context":"Grafana.","task":"Dashboard lag Celery & task success rate.","dirs":["/infra/grafana/provisioning/dashboards/"],"constraints":"","output":"dashboard workers"},
  {"step":"F1-03-017","legacy_step":297,"scope":"workers-alerting","context":"Alerting.","task":"Alertmanager rule `task_failed_rate>5%`.","dirs":["/infra/k8s/alertmanager/"],"constraints":"","output":"alert rules"},
  {"step":"F1-03-018","legacy_step":298,"scope":"workers-hpa","context":"Autoscale.","task":"HPA CPU 70% min1 max10 per worker.","dirs":["/infra/helm/workers-core/"],"constraints":"","output":"HPA rules"},
  {"step":"F1-03-019","legacy_step":299,"scope":"workers-keda-autoscale","context":"Queue autoscale.","task":"`ScaledObject` per worker (`queueLength ≥ 100`) + `ScaledJob` backlog drain pentru `pdf.render`.","dirs":["/infra/helm/workers-core/"],"constraints":"cooldownPeriod=120s.","output":"autoscaling backlog activ"},
  {"step":"F1-03-020","legacy_step":300,"scope":"workers-opa-image","context":"Policy.","task":"ConstraintTemplate `CTNoLatest` + Constraint `NoLatestWorkers`.","dirs":["/infra/policies/opa/"],"constraints":"","output":"policy activ"},
  {"step":"F1-03-021","legacy_step":301,"scope":"workers-docs","context":"Docs.","task":"README `workers-core` (usage & queues).","dirs":["/core/apps/workers-core/"],"constraints":"","output":"doc worker"},
  {"step":"F1-03-022","legacy_step":302,"scope":"registry-api-model","context":"Worker Registry mutat din Admin Core.","task":"Creează entitatea TypeORM `WorkerStatus` (id, tag, version, last_seen, status, health_endpoint, metrics) în workers-core API.","dirs":["/core/apps/workers-core/registry/api/src/entities/"],"constraints":"status ENUM (running, idle, error, stopped); timestamp UTC","output":"model WorkerStatus"},
  {"step":"F1-03-023","legacy_step":303,"scope":"registry-api-service","context":"Model WorkerStatus creat.","task":"Implementează `WorkerRegistryService` cu metode: registerWorker(), updateHeartbeat(), getWorkers(), getWorkerHealth(), removeWorker().","dirs":["/core/apps/workers-core/registry/api/src/services/"],"constraints":"Redis cache cu TTL 120s; pub/sub pentru updates","output":"service Worker Registry"},
  {"step":"F1-03-024","legacy_step":304,"scope":"registry-api-controller","context":"Service Worker Registry implementat.","task":"Creează controller `WorkerRegistryController` cu endpoints: GET /v1/workers, GET /v1/workers/:tag, PATCH /v1/workers/:tag/heartbeat, DELETE /v1/workers/:tag.","dirs":["/core/apps/workers-core/registry/api/src/controllers/"],"constraints":"JWT auth scope workers:admin; OpenAPI spec","output":"API Worker Registry"},
  {"step":"F1-03-025","legacy_step":305,"scope":"registry-heartbeat-cron","context":"API Worker Registry implementat.","task":"Implementează job periodic (60s) care scrapează `/metrics` de la fiecare worker și updatează status în Registry: `WorkerHealthCheckJob`.","dirs":["/core/apps/workers-core/registry/api/src/jobs/"],"constraints":"timeout 5s per worker; retry 3 times; log failures","output":"health check periodic"},
  {"step":"F1-03-026","legacy_step":306,"scope":"registry-redis-schema","context":"Redis cache pentru Worker Registry.","task":"Definește schema Redis pentru Worker Registry: `wrk:registry:status:<tag>` (TTL 120s), `wrk:registry:metrics:<tag>` (TTL 60s), pub/sub pe `wrk:events`.","dirs":["/core/apps/workers-core/registry/api/src/config/"],"constraints":"consistent key naming; cleanup expired keys","output":"Redis schema Registry"},
  {"step":"F1-03-027","legacy_step":307,"scope":"registry-worker-integration","context":"Worker Registry API implementat.","task":"Integrează toți workerii existenți cu Registry: fiecare worker trimite heartbeat la startup și la 30s intervals către Registry API.","dirs":["/core/apps/workers-core/ocr/","/core/apps/workers-core/pdf-render/","/core/apps/workers-core/email-send/","/core/apps/workers-core/notify-slack/"],"constraints":"graceful shutdown cu unregister; handle registry API down","output":"workers integrați cu Registry"},
  {"step":"F1-03-028","legacy_step":308,"scope":"registry-api-tests","context":"Worker Registry complet implementat.","task":"Adaugă teste comprehensive pentru Worker Registry: unit tests pentru service, integration tests pentru API endpoints, e2e tests pentru worker heartbeat flow.","dirs":["/core/apps/workers-core/registry/api/tests/"],"constraints":"coverage ≥ 90%; mock Redis și HTTP calls","output":"tests Worker Registry"},
  {"step":"F1-03-029","legacy_step":309,"scope":"registry-observability","context":"Worker Registry funcțional.","task":"Adaugă metrici Prometheus pentru Worker Registry: worker_count, worker_status, heartbeat_latency, failed_health_checks. Configurează alerts în Alertmanager.","dirs":["/core/apps/workers-core/registry/api/src/metrics/","/infra/k8s/alertmanager/"],"constraints":"labels per worker tag; SLO alerts missing workers > 5min","output":"observabilitate Worker Registry"},
  {"step":"F1-03-030","legacy_step":310,"scope":"registry-helm-deploy","context":"Worker Registry implementat complet.","task":"Adaugă charts Helm pentru Worker Registry API: Deployment, Service, ConfigMap, HPA și ServiceMonitor pentru Prometheus scraping.","dirs":["/infra/helm/workers-core/"],"constraints":"separate service pentru registry API; cosign sign","output":"deployment Worker Registry"},
  {"step":"F1-03-031","legacy_step":311,"scope":"registry-migration-script","context":"Worker Registry deploiat.","task":"Creează script de migrare `scripts/migrate-worker-registry.sh` care migrează datele existente din Admin Core la Worker Registry și updatează configurațiile.","dirs":["/scripts/"],"constraints":"idempotent; backup existent data; validate migration","output":"script migrare Registry"},
  
  // 🔗 INTEGRARE WORKERS CU MODULE STANDALONE (312-325)
  {"step":"F1-03-032","legacy_step":312,"scope":"vettify-anaf-integration","context":"Vettify necesită validare CUI și compliance fiscală.","task":"Integrează worker `anaf.taxpayer` în Vettify pentru validarea automată CUI la crearea accounts/leads: adaugă service client și endpoint `/leads/validate-cui`.","dirs":["/standalone/vettify/apps/api/src/services/anaf/","/standalone/vettify/apps/api/src/controllers/"],"constraints":"cache Redis 24h pentru CUI valid; graceful fallback la failure","output":"Vettify-ANAF taxpayer integrat"},
  {"step":"F1-03-033","legacy_step":313,"scope":"mercantiq-anaf-efactura-integration","context":"Mercantiq Sales necesită e-Factura pentru conformitate.","task":"Integrează worker `anaf.efactura` în Mercantiq Sales: modifică InvoiceService să publice task `efactura.submit` după emiterea facturii și să trackeze status-ul.","dirs":["/standalone/mercantiq/apps/sales/api/src/services/","/standalone/mercantiq/apps/sales/api/src/listeners/"],"constraints":"only pentru TID cu e-Factura activă; retry policy 3 times","output":"Mercantiq-ANAF e-Factura integrat"},
  {"step":"F1-03-034","legacy_step":314,"scope":"mercantiq-anaf-saft-integration","context":"Mercantiq Sales necesită export SAF-T pentru audit.","task":"Integrează worker `anaf.saft` în Mercantiq Sales: adaugă endpoint `/saft/export` care declanșează task `saft.generate` cu perioada specificată și returnează download link.","dirs":["/standalone/mercantiq/apps/sales/api/src/controllers/saft/","/standalone/mercantiq/apps/sales/api/src/services/"],"constraints":"only admin roles; period validation; async job tracking","output":"Mercantiq-ANAF SAF-T integrat"},
  {"step":"F1-03-035","legacy_step":315,"scope":"iwms-anaf-etransport-integration","context":"iWMS necesită e-Transport pentru livrări.","task":"Integrează worker `anaf.etransport` în iWMS: modifică ShippingService să publice task `etransport.submit` la confirmarea expediției și să salveze codul UIT.","dirs":["/standalone/iwms/apps/api/src/services/shipping/","/standalone/iwms/apps/api/src/listeners/"],"constraints":"only pentru transport cu valoare > 10000 RON; save UIT code","output":"iWMS-ANAF e-Transport integrat"},
  {"step":"F1-03-036","legacy_step":316,"scope":"mercantiq-reges-integration","context":"Mercantiq necesită integrare REGES pentru registrul general.","task":"Integrează worker `reges` în Mercantiq pentru raportarea automată: adaugă service care colectează datele necesare și publică task `reges.submit` lunar.","dirs":["/standalone/mercantiq/apps/sales/api/src/services/compliance/","/standalone/mercantiq/apps/sales/api/src/jobs/"],"constraints":"cron job monthly; only pentru companii cu angajați","output":"Mercantiq-REGES integrat"},
  {"step":"F1-03-037","legacy_step":317,"scope":"workers-module-sdk","context":"Module au nevoie de SDK unificat pentru workers.","task":"Creează SDK TypeScript `@genius/workers-sdk` cu client-uri pentru toți workerii: ANAFTaxpayerClient, EFacturaClient, SAFTClient, ETransportClient, REGESClient.","dirs":["/packages/workers-sdk/src/"],"constraints":"type-safe; retry logic; circuit breaker; OpenAPI auto-generated","output":"SDK workers pentru module"},
  {"step":"F1-03-038","legacy_step":318,"scope":"workers-event-integration","context":"Workers trebuie să publice rezultate în event-bus.","task":"Modifică toți workerii ANAF/REGES să publice evenimente în RabbitMQ la completion: `anaf.taxpayer.validated`, `efactura.submitted`, `saft.generated`, etc.","dirs":["/core/apps/workers-core/anaf-taxpayer/","/core/apps/workers-core/anaf-efactura/","/core/apps/workers-core/anaf-saft/","/core/apps/workers-core/anaf-etransport/","/core/apps/workers-core/reges/"],"constraints":"standard event format; include correlation_id; error events","output":"workers publică evenimente"},
  
  // 🧪 TESTING E2E CROSS-MODULE (319-325)
  {"step":"F1-03-039","legacy_step":319,"scope":"e2e-vettify-anaf","context":"Test integrarea Vettify cu ANAF taxpayer.","task":"Creează test E2E: creează lead în Vettify → trigger validare CUI → verifică worker ANAF response → validează salvarea datelor firmă în Vettify.","dirs":["/tests/e2e/cross-module/"],"constraints":"mock ANAF API; test success și failure cases; timeout 30s","output":"E2E Vettify-ANAF"},
  {"step":"F1-03-040","legacy_step":320,"scope":"e2e-mercantiq-efactura","context":"Test integrarea Mercantiq cu e-Factura.","task":"Creează test E2E: emite factură în Mercantiq → trigger worker e-Factura → mock ANAF submission → verifică status tracking în Mercantiq.","dirs":["/tests/e2e/cross-module/"],"constraints":"mock ANAF API și webhook; test retry logic; assert status updates","output":"E2E Mercantiq-eFactura"},
  {"step":"F1-03-041","legacy_step":321,"scope":"e2e-iwms-etransport","context":"Test integrarea iWMS cu e-Transport.","task":"Creează test E2E: confirmă expediție în iWMS → trigger worker e-Transport → mock ANAF UIT response → verifică codul UIT salvat în shipping.","dirs":["/tests/e2e/cross-module/"],"constraints":"mock ANAF API; test pentru shipping > 10000 RON; validate UIT format","output":"E2E iWMS-eTransport"},
  {"step":"F1-03-042","legacy_step":322,"scope":"e2e-worker-registry","context":"Test Worker Registry cu toți workerii.","task":"Creează test E2E care verifică Worker Registry: pornește toți workerii → verifică heartbeat → simulează worker crash → verifică detectare failure → verifică recovery.","dirs":["/tests/e2e/workers-registry/"],"constraints":"test orchestration; health check simulation; alert testing","output":"E2E Worker Registry"},
  {"step":"F1-03-043","legacy_step":323,"scope":"e2e-workers-load-test","context":"Test performanță workers sub încărcare.","task":"Creează test de încărcare pentru workers: trimite 100 task-uri simultan la fiecare worker → măsoară latency, throughput, failure rate → verifică autoscaling.","dirs":["/tests/e2e/workers-performance/"],"constraints":"K6 test script; Prometheus metrics validation; SLO verification","output":"E2E workers performance"},
  
  // 🔧 REGISTRY ÎMBUNĂTĂȚIRI DETALIATE (324-330)
  {"step":"F1-03-044","legacy_step":324,"scope":"registry-detailed-metrics","context":"Registry needs detailed per-worker metrics.","task":"Adaugă metrici detaliate în Worker Registry: task_duration_seconds, task_success_rate, queue_depth, worker_memory_usage, worker_cpu_usage per worker tag.","dirs":["/core/apps/workers-core/registry/api/src/metrics/"],"constraints":"Prometheus labels per worker; histogram buckets; gauge metrics","output":"metrici detaliate Registry"},
  {"step":"F1-03-045","legacy_step":325,"scope":"registry-heartbeat-enhanced","context":"Heartbeat mechanism incomplete.","task":"Îmbunătățește heartbeat mechanism: workers trimit heartbeat cu status detaillat (queue_size, last_task_time, health_score), Registry calculează health_score agregat.","dirs":["/core/apps/workers-core/registry/api/src/services/","/core/apps/workers-core/*/heartbeat.py"],"constraints":"heartbeat payload standard; health score 0-100; exponential backoff","output":"heartbeat îmbunătățit"},
  {"step":"F1-03-046","legacy_step":326,"scope":"registry-health-checks-deep","context":"Health checks incomplete per worker type.","task":"Implementează health checks specifice per tip worker: ANAF workers verifică conectivitatea la API-uri externe, PDF worker verifică Chromium, Email worker verifică SMTP connection.","dirs":["/core/apps/workers-core/*/health.py","/core/apps/workers-core/registry/api/src/health/"],"constraints":"timeout 5s per check; circuit breaker pattern; detailed error reporting","output":"health checks complete"},
  {"step":"F1-03-047","legacy_step":327,"scope":"registry-alerting-slo","context":"Missing SLO-based alerting for workers.","task":"Configurează alerte SLO pentru Worker Registry: SLO target 99.5% uptime, alert dacă worker down > 2min, alert dacă task failure rate > 5%, alert dacă queue backlog > 1000.","dirs":["/infra/k8s/alertmanager/rules/","/infra/grafana/provisioning/dashboards/"],"constraints":"SLO dashboard cu error budget; escalation policy; PagerDuty integration","output":"SLO alerting Workers"},
  {"step":"F1-03-048","legacy_step":328,"scope":"registry-worker-scaling","context":"Dynamic worker scaling based on queue depth.","task":"Implementează dynamic scaling logic în Registry: monitorizează queue depth, triggere ScaledObject scaling când queue > threshold, coordonează cu KEDA autoscaler.","dirs":["/core/apps/workers-core/registry/api/src/scaling/","/infra/helm/workers-core/"],"constraints":"scaling algorithm based on queue velocity; cooldown periods; max limits","output":"dynamic worker scaling"},
  {"step":"F1-03-049","legacy_step":329,"scope":"registry-worker-discovery","context":"Worker discovery mechanism needed.","task":"Implementează service discovery pentru workers: Registry auto-detectează noi worker instances, configurează load balancing pentru worker endpoints, maintains worker topology map.","dirs":["/core/apps/workers-core/registry/api/src/discovery/"],"constraints":"K8s service discovery; consul-like functionality; health-aware load balancing","output":"worker service discovery"},
  {"step":"F1-03-050","legacy_step":330,"scope":"registry-dashboard-ops","context":"Operational dashboard pentru Worker management.","task":"Creează dashboard operațional în Admin Core pentru Worker Registry: real-time worker status, queue monitoring, manual worker restart/scale, task retry functionality.","dirs":["/core/apps/admin-core/frontend/src/pages/workers-ops/","/core/apps/admin-core/api/src/controllers/workers/"],"constraints":"real-time updates via WebSocket; RBAC protected; audit logging","output":"dashboard ops Workers"},
  
  // 🚀 DEPLOYMENT & SUPPLY CHAIN SECURITY BASE WORKERS (331-335)
  {"step":"F1-03-051","legacy_step":331,"scope":"workers-dockerfiles","context":"Containerizare pentru deployment necesară","task":"Creează Dockerfiles pentru toate workers: Python 3.13 multi-stage build pentru OCR, PDF-render, Email-send, Notify-slack, și ANAF workers cu optimizare pentru container size.","dirs":["/core/apps/workers-core/*/docker/"],"constraints":"user non-root 1000; optimizează pentru Python workers; dependencies cache layer","output":"Dockerfiles Workers create"},
  {"step":"F1-03-052","legacy_step":332,"scope":"workers-helm-chart","context":"Charts Helm pentru deployment","task":"Adaugă chart Helm pentru Workers Core: Deployment-uri pentru fiecare worker type, HPA configurare, KEDA ScaledObjects, ConfigMaps pentru worker config, ServiceMonitor pentru metrici.","dirs":["/core/apps/workers-core/infra/helm/"],"constraints":"Include worker-specific values; imagini semnate (cosign); KEDA integration","output":"chart Helm Workers cu cosign"},
  {"step":"F1-03-053","legacy_step":333,"scope":"workers-ci-pipeline","context":"CI/CD pipeline pentru securitate","task":"Implementează CI/CD complet pentru Workers folosind template F0: Trivy scans cu praguri standardizate CRITICAL=0, HIGH≤3, MEDIUM≤15, SAST analysis pentru Python code, dependency vulnerabilities pentru ML/AI libs, SBOM generation, Cosign signing.","dirs":["/.github/workflows/"],"constraints":"Python security critical; AI/ML dependency focus; fail on CRITICAL; codecov 80%; conform standard global","output":"CI/CD Workers securizat cu praguri standardizate"},
  {"step":"F1-03-054","legacy_step":334,"scope":"workers-argocd","context":"Chart Helm disponibil cu cosign","task":"Configurează Argo CD cu canary deployment pentru Workers: Argo Rollouts pentru worker services, traffic split prin queue routing, analysis cu worker metrics (task success rate > 99%, queue processing latency < 30s), automated rollback pe worker failures.","dirs":["/core/infra/k8s/argocd/","/core/apps/workers-core/infra/k8s/argo-rollouts/"],"constraints":"worker reliability critical; queue stability; task processing protection; automated rollback; cosign verify obligatoriu","output":"Workers canary deployment"},
  {"step":"F1-03-055","legacy_step":335,"scope":"workers-deployment-validation","context":"Deployment validation pentru Workers lipsește.","task":"Adaugă deployment validation pentru Workers: task processing verification, queue connectivity testing, worker health endpoint validation, ANAF external API connectivity checks.","dirs":["/core/apps/workers-core/tests/deployment/","/core/apps/workers-core/scripts/validation/"],"constraints":"worker functionality critical; queue validation; external API testing; automated validation","output":"Workers deployment validation"},

  // 🛡️ GDPR COMPLIANCE WORKERS (336-345)
  {"step":"F1-03-056","legacy_step":336,"scope":"gdpr-consent-ai-worker","context":"GDPR compliance pentru AI features necesită management consimțământ dedicat.","task":"Creează worker `gdpr.consent.ai` pentru management consimțământ AI: tracking consent per user/tenant, consent withdrawal processing, AI data usage tracking, consent audit trails, integration cu AI workers.","dirs":["/core/apps/workers-core/gdpr-consent-ai/"],"constraints":"Python 3.13 + PostgreSQL 17; encryption at rest; audit logging; GDPR Article 7 compliant; retention policies","output":"worker GDPR Consent AI"},
  {"step":"F1-03-057","legacy_step":337,"scope":"gdpr-rtbf-worker","context":"Right to be Forgotten (RTBF) orchestration pentru AI data lipsește.","task":"Implementează worker `gdpr.rtbf` pentru RTBF orchestration: data deletion across all AI systems, anonymization of AI training data, cascade deletion coordination, RTBF completion verification, audit trails.","dirs":["/core/apps/workers-core/gdpr-rtbf/"],"constraints":"Python 3.13 + Celery; secure deletion verification; cross-worker coordination; 30-day completion SLA","output":"worker GDPR RTBF"},
  {"step":"F1-03-058","legacy_step":338,"scope":"gdpr-data-classification","context":"AI data classification pentru GDPR necesară.","task":"Dezvoltă worker `gdpr.classify` pentru data classification: PII detection în AI inputs/outputs, sensitive data tagging, automated data categorization, GDPR impact assessments, data minimization recommendations.","dirs":["/core/apps/workers-core/gdpr-classify/"],"constraints":"ML-based PII detection; regex patterns; false positive < 1%; privacy by design","output":"worker GDPR Data Classification"},
  {"step":"F1-03-059","legacy_step":339,"scope":"gdpr-ai-audit","context":"AI audit trails pentru GDPR compliance lipsesc.","task":"Creează worker `gdpr.audit.ai` pentru AI audit trails: AI decision logging, algorithmic transparency reports, bias detection în AI outputs, fairness metrics calculation, explainability reports generation.","dirs":["/core/apps/workers-core/gdpr-audit-ai/"],"constraints":"immutable audit logs; cryptographic integrity; retention 7 years; performance impact < 5%","output":"worker GDPR AI Audit"},
  {"step":"F1-03-060","legacy_step":340,"scope":"gdpr-consent-ui-integration","context":"GDPR consent workers implementați dar lipsește integrarea UI.","task":"Integrează GDPR workers cu Shell UI: consent management dashboard, RTBF request portal, data export interface, privacy settings per module, consent history visualization.","dirs":["/core/apps/shell-gateway/frontend/src/pages/privacy/","/core/apps/admin-core/frontend/src/pages/gdpr/"],"constraints":"GDPR compliant UI; accessibility; multi-language; user-friendly consent forms","output":"GDPR UI integration"},
  {"step":"F1-03-061","legacy_step":341,"scope":"gdpr-vettify-integration","context":"Vettify AI features necesită GDPR compliance integration.","task":"Integrează GDPR workers cu Vettify AI: consent checks before AI processing, RTBF support pentru CRM data, AI transparency în lead scoring, bias monitoring pentru AI recommendations.","dirs":["/standalone/vettify/apps/api/src/services/gdpr/","/standalone/vettify/apps/frontend/src/components/privacy/"],"constraints":"real-time consent validation; AI ethics compliance; customer trust protection","output":"Vettify GDPR AI compliance"},
  {"step":"F1-03-062","legacy_step":342,"scope":"gdpr-workers-registry","context":"GDPR workers trebuie înregistrați în Worker Registry.","task":"Înregistrează GDPR workers în Worker Registry: gdpr.consent.ai, gdpr.rtbf, gdpr.classify, gdpr.audit.ai cu health checks, metrics, scaling policies specific GDPR compliance.","dirs":["/core/apps/workers-core/registry/"],"constraints":"GDPR worker availability 99.9%; dedicated GDPR metrics; privacy-aware monitoring","output":"GDPR workers în Registry"},
  {"step":"F1-03-063","legacy_step":343,"scope":"gdpr-compliance-dashboard","context":"Dashboard GDPR compliance pentru administrators lipsește.","task":"Creează dashboard GDPR compliance în Admin Core: consent statistics, RTBF request status, data classification metrics, AI audit trails, compliance score per module.","dirs":["/core/apps/admin-core/frontend/src/pages/compliance/","/core/infra/grafana/provisioning/dashboards/"],"constraints":"executive dashboard; real-time metrics; drill-down capabilities; compliance KPIs","output":"GDPR compliance dashboard"},
  {"step":"F1-03-064","legacy_step":344,"scope":"gdpr-automation-policies","context":"Automated GDPR policies pentru AI workflows lipsesc.","task":"Implementează automated GDPR policies: auto-consent expiration, automated RTBF triggers, AI data retention enforcement, consent renewal reminders, privacy impact assessments.","dirs":["/core/apps/workers-core/gdpr-automation/","/core/infra/policies/gdpr/"],"constraints":"OPA policy engine; automated compliance; minimal human intervention; audit trails","output":"GDPR automation policies"},
  {"step":"F1-03-065","legacy_step":345,"scope":"gdpr-testing-framework","context":"GDPR compliance testing framework lipsește.","task":"Dezvoltă GDPR testing framework: consent workflow testing, RTBF verification tests, data classification accuracy tests, AI bias detection tests, privacy leak detection.","dirs":["/core/apps/workers-core/tests/gdpr/","/tests/e2e/gdpr/"],"constraints":"automated testing; privacy-safe test data; compliance verification; regulatory audit support","output":"GDPR testing framework"},

  // 🚀 SOCIAL MEDIA AI WORKERS (346-349) - Ultimate CRM Generation
  {"step":"F1-03-066","legacy_step":346,"scope":"social-facebook-pixel-ai","context":"Social media AI capabilities necesare pentru next-gen CRM.","task":"Creează worker `facebook.pixel.ai` pentru analiza Facebook/Instagram pixel data cu GPT-4 pentru audience insights și conversion attribution. Include tracking avansat user behavior, audience optimization, conversion path analysis.","dirs":["/core/apps/workers-core/facebook-pixel-ai/"],"constraints":"Facebook Marketing API + OpenAI GPT-4; pgvector embeddings pentru audience similarity; privacy compliant; rate limiting; commit 'feat(workers): facebook pixel ai'","output":"worker Facebook Pixel AI cu audience intelligence"},
  {"step":"F1-03-067","legacy_step":347,"scope":"social-linkedin-sales-ai","context":"LinkedIn integration pentru B2B lead generation.","task":"Implementează worker `linkedin.sales.ai` pentru LinkedIn Sales Navigator integration cu AI scoring și relationship mapping. Include prospect scoring automat, intent detection, network analysis.","dirs":["/core/apps/workers-core/linkedin-sales-ai/"],"constraints":"LinkedIn Marketing API + Anthropic Claude; Redis cache pentru rate limiting; GDPR compliant data handling; commit 'feat(workers): linkedin sales ai'","output":"worker LinkedIn Sales AI cu prospect intelligence"},
  {"step":"F1-03-068","legacy_step":348,"scope":"social-twitter-sentiment-ai","context":"Brand monitoring și sentiment analysis în timp real.","task":"Dezvoltă worker `twitter.sentiment.ai` pentru real-time sentiment analysis și brand monitoring cu VADER + transformers. Include crisis detection, competitor monitoring, trend analysis.","dirs":["/core/apps/workers-core/twitter-sentiment-ai/"],"constraints":"Twitter API v2 + VADER sentiment + transformers; PostgreSQL 17 storage cu pgvector pentru embeddings; real-time streaming; commit 'feat(workers): twitter sentiment ai'","output":"worker Twitter Sentiment AI cu brand monitoring"},
  {"step":"F1-03-069","legacy_step":349,"scope":"social-tiktok-analytics-ai","context":"TikTok content analysis pentru marketing modern.","task":"Construiește worker `tiktok.analytics.ai` pentru TikTok Business API integration cu video content analysis și trend prediction. Include viral potential scoring, content optimization, trend forecasting.","dirs":["/core/apps/workers-core/tiktok-analytics-ai/"],"constraints":"TikTok Marketing API + Computer Vision + TensorFlow; MinIO storage pentru video processing; privacy compliant; commit 'feat(workers): tiktok analytics ai'","output":"worker TikTok Analytics AI cu content intelligence"},

  // 🧠 CUSTOMER INTELLIGENCE AI WORKERS (350-353) - Advanced CRM Capabilities  
  {"step":"F1-03-070","legacy_step":350,"scope":"intelligence-vision-call-analysis","context":"Computer vision pentru video call analysis.","task":"Dezvoltă worker `vision.call.analysis` pentru computer vision analysis în video calls: emotion detection, engagement scoring, attention mapping. Include privacy controls și secure video processing.","dirs":["/core/apps/workers-core/vision-call-analysis/"],"constraints":"OpenCV + MediaPipe + Azure Cognitive Services; privacy compliant video processing; secure storage; GDPR compliant; commit 'feat(workers): vision call analysis'","output":"worker Vision Call Analysis cu emotion intelligence"},
  {"step":"F1-03-071","legacy_step":351,"scope":"intelligence-voice-sentiment-ai","context":"Voice analysis pentru customer intelligence.","task":"Implementează worker `voice.sentiment.ai` pentru voice-to-text transcription cu sentiment analysis folosind Whisper + AssemblyAI. Include speaker identification, emotion detection, conversation insights.","dirs":["/core/apps/workers-core/voice-sentiment-ai/"],"constraints":"Whisper + AssemblyAI + Google Speech-to-Text; secure audio storage; privacy compliant transcription; commit 'feat(workers): voice sentiment ai'","output":"worker Voice Sentiment AI cu conversation intelligence"},
  {"step":"F1-03-072","legacy_step":352,"scope":"intelligence-behavior-pattern-ai","context":"Behavioral pattern recognition pentru predictive analytics.","task":"Creează worker `behavior.pattern.ai` pentru behavioral pattern recognition cu predictive modeling și customer journey analysis. Include churn prediction, lifecycle stage detection, engagement optimization.","dirs":["/core/apps/workers-core/behavior-pattern-ai/"],"constraints":"TensorFlow + PyTorch + scikit-learn; feature engineering pentru behavioral data; model versioning; commit 'feat(workers): behavior pattern ai'","output":"worker Behavior Pattern AI cu predictive analytics"},
  {"step":"F1-03-073","legacy_step":353,"scope":"intelligence-content-personalization-ai","context":"AI-driven content personalization pentru customer engagement.","task":"Dezvoltă worker `content.personalization.ai` pentru AI-driven content recommendations bazate pe user preferences și behavioral data. Include A/B testing integration, performance tracking.","dirs":["/core/apps/workers-core/content-personalization-ai/"],"constraints":"GPT-4 + recommendation algorithms; A/B testing ready; real-time personalization; commit 'feat(workers): content personalization ai'","output":"worker Content Personalization AI cu intelligent recommendations"},

  // 🎯 MARKETING AI MODERN WORKERS (354-357) - Next-Generation Marketing Optimization
  {"step":"F1-03-074","legacy_step":354,"scope":"marketing-ab-testing-ml","context":"Automated A/B testing cu machine learning optimization.","task":"Implementează worker `ab.testing.ml` pentru automated A/B testing cu ML: statistical significance detection, continuous optimization, multi-armed bandit algorithms.","dirs":["/core/apps/workers-core/ab-testing-ml/"],"constraints":"scipy.stats + MLlib; statistical rigor; confidence intervals; early stopping; commit 'feat(workers): ab testing ml'","output":"worker A/B Testing ML cu automated optimization"},
  {"step":"F1-03-075","legacy_step":355,"scope":"marketing-dynamic-pricing-ai","context":"Real-time price optimization cu AI.","task":"Creează worker `dynamic.pricing.ai` pentru price optimization în timp real bazat pe demand forecasting și competitor analysis. Include market intelligence, price elasticity analysis.","dirs":["/core/apps/workers-core/dynamic-pricing-ai/"],"constraints":"XGBoost + time series analysis; market data integration; real-time pricing; competitor monitoring; commit 'feat(workers): dynamic pricing ai'","output":"worker Dynamic Pricing AI cu market intelligence"},
  {"step":"F1-03-076","legacy_step":356,"scope":"marketing-attribution-modeling-ai","context":"Cross-channel attribution cu advanced modeling.","task":"Dezvoltă worker `attribution.modeling.ai` pentru cross-channel attribution modeling cu multi-touch attribution și ROAS optimization. Include survival analysis, Markov chain modeling.","dirs":["/core/apps/workers-core/attribution-modeling-ai/"],"constraints":"Markov chains + survival analysis; cross-platform tracking; data-driven attribution; privacy compliant; commit 'feat(workers): attribution modeling ai'","output":"worker Attribution Modeling AI cu cross-channel intelligence"},
  {"step":"F1-03-077","legacy_step":357,"scope":"marketing-campaign-optimization-ai","context":"Real-time campaign optimization cu reinforcement learning.","task":"Construiește worker `campaign.optimization.ai` pentru real-time campaign optimization: budget allocation automat, bid management, audience adjustment, performance prediction.","dirs":["/core/apps/workers-core/campaign-optimization-ai/"],"constraints":"reinforcement learning; real-time bidding integration; budget optimization; audience intelligence; commit 'feat(workers): campaign optimization ai'","output":"worker Campaign Optimization AI cu intelligent automation"},

  // 🔗 AI WORKERS INTEGRATION & REGISTRY (358-362)
  {"step":"F1-03-078","legacy_step":358,"scope":"ai-workers-registry-integration","context":"AI workers avansați trebuie înregistrați în Worker Registry.","task":"Înregistrează toți AI workers avansați în Worker Registry: social media AI, customer intelligence AI, marketing AI modern cu health checks, metrics, scaling policies specifice AI workloads.","dirs":["/core/apps/workers-core/registry/"],"constraints":"AI worker availability 99.5%; GPU resource management; model versioning support; performance monitoring","output":"AI workers avansați în Registry"},
  {"step":"F1-03-079","legacy_step":359,"scope":"ai-workers-deployment","context":"AI workers containerization pentru deployment.","task":"Creează Dockerfiles optimizate pentru AI workers cu multi-stage builds: Python 3.13 + ML libraries (TensorFlow, PyTorch, transformers) cu optimizare GPU și model caching.","dirs":["/core/apps/workers-core/*/docker/"],"constraints":"GPU support; model cache layer; security scanning; size optimization pentru ML libraries","output":"AI workers Dockerfiles optimizate"},
  {"step":"F1-03-080","legacy_step":360,"scope":"ai-workers-helm-chart","context":"Helm charts pentru AI workers deployment.","task":"Creează chart Helm pentru AI Workers cu GPU scheduling, model storage, resource limits specifice ML workloads, KEDA scaling pe queue metrics.","dirs":["/core/apps/workers-core/infra/helm/ai-workers/"],"constraints":"GPU node affinity; model persistent volumes; memory-optimized; KEDA GPU metrics","output":"AI workers Helm chart cu GPU support"},
  {"step":"F1-03-081","legacy_step":361,"scope":"ai-workers-monitoring","context":"Monitoring specific pentru AI workers.","task":"Implementează monitoring pentru AI workers: model performance metrics, GPU utilization, inference latency, accuracy degradation detection, cost tracking.","dirs":["/core/infra/grafana/provisioning/dashboards/ai-workers/"],"constraints":"AI-specific metrics; cost optimization; model drift detection; performance SLIs","output":"AI workers monitoring dashboard"},
  {"step":"F1-03-082","legacy_step":362,"scope":"ai-workers-testing-framework","context":"Testing framework pentru AI workers.","task":"Dezvoltă testing framework pentru AI workers: model accuracy tests, performance regression tests, A/B testing framework, synthetic data generation pentru testing.","dirs":["/core/apps/workers-core/tests/ai/","/tests/e2e/ai-workers/"],"constraints":"model validation; privacy-safe test data; automated accuracy testing; performance benchmarking","output":"AI workers testing framework complet"},

  // 🛡️ BUSINESS SECURITY & OPTIMIZATION WORKERS (363-365) - Missing Critical Workers
  {"step":"F1-03-083","legacy_step":363,"scope":"risk-fraud-scoring-worker","context":"Mercantiq Sales necesită fraud detection pentru tranzacții și plăți.","task":"Creează worker `risk.fraud.scoring` pentru fraud detection în real-time: transaction scoring, payment risk analysis, customer behavior analysis, suspicious pattern detection, integration cu ML models pentru risk assessment.","dirs":["/core/apps/workers-core/risk-fraud-scoring/"],"constraints":"Python 3.13 + scikit-learn + XGBoost; real-time scoring < 100ms; PostgreSQL 17 pentru risk models; Redis cache pentru scores; commit 'feat(workers): risk fraud scoring'","output":"worker Risk Fraud Scoring cu ML detection"},
  {"step":"F1-03-084","legacy_step":364,"scope":"route-optimization-ai-worker","context":"iWMS necesită optimizarea rutelor de picking pentru warehouse efficiency.","task":"Implementează worker `route.optimization.ai` pentru warehouse route optimization: picking route calculation, travel time minimization, multi-picker coordination, zone optimization, integration cu warehouse layout data.","dirs":["/core/apps/workers-core/route-optimization-ai/"],"constraints":"Python 3.13 + OR-Tools + NetworkX; algoritmi TSP/VRP; PostgreSQL 17 pentru warehouse layout; sub 5s pentru 100+ items; commit 'feat(workers): route optimization ai'","output":"worker Route Optimization AI cu OR-Tools"},
  {"step":"F1-03-085","legacy_step":365,"scope":"slotting-optimization-ai-worker","context":"iWMS necesită optimizarea dinamică a slot-urilor pentru inventory management.","task":"Dezvoltă worker `slotting.optimization.ai` pentru dynamic slotting optimization: ABC analysis automation, velocity-based positioning, space utilization optimization, seasonal adjustment, integration cu inventory turnover data.","dirs":["/core/apps/workers-core/slotting-optimization-ai/"],"constraints":"Python 3.13 + pandas + scikit-learn; ABC classification algorithms; PostgreSQL 17 pentru inventory history; Ray pentru batch processing; commit 'feat(workers): slotting optimization ai'","output":"worker Slotting Optimization AI cu ABC analysis"},

  // 🔗 BUSINESS WORKERS INTEGRATION & REGISTRY (366-368)
  {"step":"F1-03-086","legacy_step":366,"scope":"business-workers-registry-integration","context":"Business workers trebuie înregistrați în Worker Registry.","task":"Înregistrează business workers în Worker Registry: risk.fraud.scoring, route.optimization.ai, slotting.optimization.ai cu health checks, metrics, scaling policies specifice business operations.","dirs":["/core/apps/workers-core/registry/"],"constraints":"business worker availability 99.9%; performance SLIs; business metrics tracking","output":"business workers în Registry"},
  {"step":"F1-03-087","legacy_step":367,"scope":"business-workers-deployment","context":"Business workers containerization pentru deployment.","task":"Creează Dockerfiles pentru business workers: Python 3.13 + ML libraries optimizate pentru business operations cu model caching și performance optimization.","dirs":["/core/apps/workers-core/*/docker/"],"constraints":"business performance critical; model cache layer; security scanning; business continuity focus","output":"business workers Dockerfiles optimizate"},
  {"step":"F1-03-088","legacy_step":368,"scope":"business-workers-monitoring","context":"Monitoring specific pentru business workers.","task":"Implementează monitoring pentru business workers: fraud detection accuracy, route optimization efficiency, slotting performance metrics, business impact tracking, cost optimization metrics.","dirs":["/core/infra/grafana/provisioning/dashboards/business-workers/"],"constraints":"business KPI focus; cost tracking; performance optimization; business impact measurement","output":"business workers monitoring dashboard"}
]
```

**Notă**: acest roadmap individual este sincronizat automat cu `4_roadmap_f_1_core_platform.md`; nu modificați manual pașii din alte fișiere.